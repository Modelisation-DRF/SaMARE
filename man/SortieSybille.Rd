% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Sortie_Sybille.R
\name{SortieSybille}
\alias{SortieSybille}
\title{Prépare les données pour le module Sybille et calcule les volumes de billes}
\usage{
SortieSybille(
  Data,
  dhs = 0.15,
  nom_grade1 = NA,
  long_grade1 = NA,
  diam_grade1 = NA,
  nom_grade2 = NA,
  long_grade2 = NA,
  diam_grade2 = NA,
  nom_grade3 = NA,
  long_grade3 = NA,
  diam_grade3 = NA
)
}
\arguments{
\item{Data}{Un data.frame ou data.table contenant les données d'inventaire forestier avec les colonnes suivantes:
\itemize{
  \item Veg_Pot - Code de végétation potentielle, ex: "MS2"
  \item PlacetteID - Identifiant de la placette
  \item DHPcm - Diamètre à hauteur de poitrine en cm
  \item Altitude - Altitude en mètres
  \item hauteur_pred - Hauteur prédite de l'arbre en mètres
  \item origTreeID - Numéro de l'arbre
  \item Espece - Code d'essence de l'arbre, ex: "SAB"
  \item Cl_Drai - Classe de drainage ex: "2"
  \item Etat - État de l'arbre ("vivant", "mort", "recrue")
  \item Nombre - Nombre d'arbres représentés par cette observation dans une placette de 400 m2
  \item sdom_bio - Sous-domaine bioclimatique. ex: "1", "2E", "4O"
}}

\item{dhs}{Hauteur de souche standard en mètres (point de départ des mesures), initialisée à 0.15(15 cm)}

\item{nom_grade1}{Nom du premier type de bille.}

\item{long_grade1}{Longueur de la première bille en pieds(multiple de 2 pieds).}

\item{diam_grade1}{Diamètre minimal au fin bout de la première bille en cm.}

\item{nom_grade2}{Nom du deuxième type de bille.(si besoin)}

\item{long_grade2}{Longueur de la deuxième bille en pieds.(multiple de 2 pieds)(si besoin)}

\item{diam_grade2}{Diamètre minimal au fin bout de la deuxième bille en cm.(si besoin)}

\item{nom_grade3}{Nom du troisième type de bille.(si besoin)}

\item{long_grade3}{Longueur de la troisième bille en pieds.(multiple de 2 pieds)(si besoin)}

\item{diam_grade3}{Diamètre minimal au fin bout de la troisième bille en cm.(si besoin)}
}
\value{
Un data.table contenant les résultats du calcul des volumes de billes avec les colonnes:
  \itemize{
    \item id_pe - Identifiant de la placette
    \item no_arbre - Numéro de l'arbre
    \item vol_bille_dm3 - Volume de la bille en dm³
    \item grade_bille - Type de la bille
    \item Annee - Annee de la simulation pour l'arbre
  }
}
\description{
Cette fonction prend un jeu de données forestières, le transforme selon les exigences de Sybille et applique l'algorithme.
}
\details{
La fonction effectue les opérations suivantes:
\enumerate{
  \item Calcule la densité d'arbres (nbTi_ha) et la surface terrière (st_ha) par placette et année
  \item Change les noms de colonnes pour compatibilité avec calcul_vol_bille
  \item Transforme les codes de sous-domaine ('E' en 'EST', 'O' en 'OUEST')
  \item Extrait le premier caractère de la classe de drainage
  \item Applique calcul_vol_bille avec ses paramètres
}
}
\examples{
\dontrun{
  donnees <- data.frame(
    Veg_Pot = c("MS2", "RS2"),
    PlacetteID = c(1, 1),
    DHPcm = c(15, 25),
    Altitude = c(450, 450),
    hauteur_pred = c(12, 18),
    origTreeID = c(1, 2),
    Espece = c("SAB", "EPN"),
    Cl_Drai = c("2", "3"),
    Etat = c("vivant", "vivant"),
    Nombre = c(1, 1),
    sdom_bio = c("4E", "4O"),
    Annee = c(2020, 2020)
  )

  resultats <- SortieSybille(donnees, nom_grade1 = "pate", nom_grade1 = 8, diam_grade1 = 4)
  head(resultats)
}

}
